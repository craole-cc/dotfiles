#!/bin/sh

__path__() {
  _path="$1"
  #todo: test path
  [ -d "_path" ] || _path="."
}
__type__() {
  case "$2" in
  d*) _type="d" ;;
  f* | *) _type="f" ;;
  esac
}
__name__() {
  _name="$3"
}
__exec__() {
  case "$4" in
  delete | d*) _exec="rm -rf" ;;
  list | l*) _exec="ls -la" ;;
  *) ;;
  esac
}

__cmd__() {
  __path__ "$@"
  __name__ "$@"
  __type__ "$@"
  __exec__ "$@"

  _cmd="$(
    # echo "find $_path -type $_type -name \"$_name\" -exec $_exec {} +"
    printf \
      "find %s -type %s -name \"%s\" -exec %s {} +\n" \
      "$_path" "$_type" "$_name" "$_exec"
  )"

  # shellcheck disable=SC2086
  find "$_path" \
    -type "$_type" \
    -name "$_name" \
    -exec $_exec {} +

}

__cmd__ "$@"
echo "COMMAND: $_cmd"